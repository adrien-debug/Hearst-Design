<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hearst Theme Builder</title>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/app-interface.css" />
  <link rel="stylesheet" href="css/preview-scope.css" />
  <link rel="stylesheet" href="css/app.css" />
</head>

<body>
  <!-- ============================================
       APP SHELL - Structure 3 Zones
       ============================================ -->
  <div class="app-shell">
    
    <!-- ========================================
         HEADER - Simple & Clair
         ======================================== -->
    <header class="app-header">
      <!-- Left: Logo + Titre -->
      <div class="app-header__left">
        <div class="app-logo">
          <svg class="app-logo__icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
          </svg>
          <span class="app-logo__text">Hearst Theme Builder</span>
        </div>
      </div>
      
      <!-- Right: Actions Principales -->
      <div class="app-header__right">
        <button class="app-header__btn app-header__btn--primary" id="btnAddPage" title="Ajouter une page">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5" y1="12" x2="19" y2="12"/>
          </svg>
          <span class="app-header__btn-text">Ajouter une Page</span>
        </button>
        <button class="app-header__btn" id="btnExport" title="Exporter le projet">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          <span class="app-header__btn-text">Exporter</span>
        </button>
      </div>
    </header>

    <!-- ========================================
         MAIN BODY - Sidebar + Preview + Props
         ======================================== -->
    <div class="app-body">
      
      <!-- ======================================
           SIDEBAR - Liste des Pages
           ====================================== -->
      <nav class="app-sidebar" id="appSidebar">
        <div class="app-sidebar__section">
          <div class="app-sidebar__section-title">MES PAGES</div>
          
          <!-- Accueil / Créateur -->
          <button class="app-sidebar__item is-active" data-view="dashboard" data-page-id="home" title="Accueil">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
              <polyline points="9 22 9 12 15 12 15 22"/>
            </svg>
            <span class="app-sidebar__label">Accueil</span>
          </button>

          <!-- Liste dynamique des pages créées -->
          <div id="pagesList">
            <!-- Pages seront ajoutées ici dynamiquement -->
          </div>
        </div>

        <div class="app-sidebar__separator"></div>

        <div class="app-sidebar__section">
          <div class="app-sidebar__section-title">COULEURS</div>
          
          <!-- Couleurs Favorites -->
          <div class="favorite-colors" id="favoriteColors">
            <div class="color-swatch" data-color="#8afd81" style="background: #8afd81;" title="Vert Hearst"></div>
            <div class="color-swatch" data-color="#0a0a0a" style="background: #0a0a0a;" title="Noir"></div>
            <div class="color-swatch" data-color="#ffffff" style="background: #ffffff;" title="Blanc"></div>
            <div class="color-swatch" data-color="#3b82f6" style="background: #3b82f6;" title="Bleu"></div>
            <div class="color-swatch" data-color="#f59e0b" style="background: #f59e0b;" title="Orange"></div>
            <div class="color-swatch" data-color="#ef4444" style="background: #ef4444;" title="Rouge"></div>
          </div>
        </div>
      </nav>

      <!-- ======================================
           ZONE CENTRALE - Contenu Principal
           ====================================== -->
      <main class="preview-zone" id="previewZone">
        <!-- Preview Toolbar Simplifiée -->
        <div class="preview-toolbar">
          <div class="preview-toolbar__left">
            <h2 class="preview-toolbar__title" id="viewTitle">Accueil</h2>
            <p class="preview-toolbar__subtitle" id="viewSubtitle">Choisissez une palette pour commencer</p>
          </div>

          <div class="preview-toolbar__right">
            <button class="preview-toolbar__btn" id="btnToggleProps" title="Afficher/Masquer les propriétés">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <line x1="9" y1="3" x2="9" y2="21"/>
              </svg>
              <span>Propriétés</span>
            </button>
          </div>
        </div>
        
        <!-- Preview Content -->
        <div class="preview-viewport" id="previewViewport">
          <div class="preview-content" id="previewContent">
            
            <!-- ========================================
                 PAGE CREATOR - Vue Principale
                 ======================================== -->
            <div class="view-content" id="viewDashboard" data-view="dashboard">
              <div class="page-creator">
                <div class="page-creator__header">
                  <h1 class="page-creator__title">Que voulez-vous créer ?</h1>
                  <p class="page-creator__subtitle">Choisissez un type de page pour commencer</p>
                </div>
                
                <!-- Grille de Types de Pages -->
                <div class="page-types-grid">
                  <!-- Dashboard -->
                  <div class="page-type-card" data-page-type="dashboard">
                    <div class="page-type-card__icon">
                      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="3" y1="9" x2="21" y2="9"/>
                        <line x1="9" y1="21" x2="9" y2="9"/>
                      </svg>
                    </div>
                    <h3 class="page-type-card__title">Dashboard</h3>
                    <p class="page-type-card__desc">Tableaux de bord avec KPIs et graphiques</p>
                    <button class="page-type-card__btn">Créer Dashboard</button>
                  </div>

                  <!-- Page d'Information -->
                  <div class="page-type-card" data-page-type="info">
                    <div class="page-type-card__icon">
                      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="16" y1="13" x2="8" y2="13"/>
                        <line x1="16" y1="17" x2="8" y2="17"/>
                        <polyline points="10 9 9 9 8 9"/>
                      </svg>
                    </div>
                    <h3 class="page-type-card__title">Page Info</h3>
                    <p class="page-type-card__desc">Page de contenu avec textes et sections</p>
                    <button class="page-type-card__btn">Créer Page Info</button>
                  </div>

                  <!-- Formulaire -->
                  <div class="page-type-card" data-page-type="form">
                    <div class="page-type-card__icon">
                      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="12" y1="18" x2="12" y2="12"/>
                        <line x1="9" y1="15" x2="15" y2="15"/>
                      </svg>
                    </div>
                    <h3 class="page-type-card__title">Formulaire</h3>
                    <p class="page-type-card__desc">Formulaire de saisie avec validation</p>
                    <button class="page-type-card__btn">Créer Formulaire</button>
                  </div>

                  <!-- Gallery -->
                  <div class="page-type-card" data-page-type="gallery">
                    <div class="page-type-card__icon">
                      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                      </svg>
                    </div>
                    <h3 class="page-type-card__title">Galerie</h3>
                    <p class="page-type-card__desc">Grille d'images ou de contenus</p>
                    <button class="page-type-card__btn">Créer Galerie</button>
                  </div>

                  <!-- Page Vide -->
                  <div class="page-type-card" data-page-type="blank">
                    <div class="page-type-card__icon">
                      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                      </svg>
                    </div>
                    <h3 class="page-type-card__title">Page Vide</h3>
                    <p class="page-type-card__desc">Commencez avec une page vierge</p>
                    <button class="page-type-card__btn">Créer Page Vide</button>
                  </div>
                </div>
              </div>
            </div>

            <!-- ========================================
                 PALETTES - Couleurs
                 ======================================== -->
            <div class="view-content" id="viewPalettes" data-view="palettes" style="display: none;">
              <div class="view-header">
                <h2 class="view-header__title">Palettes de Couleurs</h2>
                <p class="view-header__desc">Toutes les palettes disponibles pour votre projet</p>
              </div>

              <div class="palettes-grid" id="palettesGrid">
                <!-- Dynamically injected -->
              </div>
            </div>

            <!-- ========================================
                 COMPOSANTS - Bibliothèque
                 ======================================== -->
            <div class="view-content" id="viewComponents" data-view="components" style="display: none;">
              <div class="view-header">
                <h2 class="view-header__title">Bibliothèque de Composants</h2>
                <p class="view-header__desc">Aperçu de tous les composants avec la palette active</p>
              </div>
              
              <div class="components-showcase">
                <!-- Buttons -->
                <section class="showcase-section">
                  <h3 class="showcase-section__title">Buttons</h3>
                  <div class="showcase-section__content">
                    <button class="btn">Primary Button</button>
                    <button class="btn btn--secondary">Secondary</button>
                    <button class="btn btn--ghost">Ghost</button>
            </div>
                </section>
                
                <!-- Cards -->
                <section class="showcase-section">
                  <h3 class="showcase-section__title">Cards</h3>
                  <div class="showcase-section__content showcase-section__content--grid">
                    <div class="card">
                      <h4>Standard Card</h4>
                      <p>This is a standard card component with the current palette applied.</p>
              </div>
                    <div class="card-glass">
                      <h4>Glass Card</h4>
                      <p>Glassmorphism effect with blur and transparency.</p>
            </div>
                    <div class="card-kpi">
                      <div class="kpi-label">Total Revenue</div>
                      <div class="kpi-value">$2.4M</div>
                      <div class="kpi-change">+12.5%</div>
              </div>
            </div>
                </section>
                
                <!-- Forms -->
                <section class="showcase-section">
                  <h3 class="showcase-section__title">Form Elements</h3>
                  <div class="showcase-section__content showcase-section__content--form">
                    <div class="form-group">
                      <label class="form-label">Email Address</label>
                      <input type="email" class="form-input" placeholder="you@example.com" />
              </div>
                    <div class="form-group">
                      <label class="form-label">Password</label>
                      <input type="password" class="form-input" placeholder="••••••••" />
            </div>
                    <button class="btn">Sign In</button>
        </div>
      </section>

                <!-- Alerts -->
                <section class="showcase-section">
                  <h3 class="showcase-section__title">Alerts & Badges</h3>
                  <div class="showcase-section__content showcase-section__content--stack">
                    <div class="alert alert-success">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="20 6 9 17 4 12"/>
                      </svg>
                      <span>Operation completed successfully!</span>
        </div>
                    <div class="alert alert-warning">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/>
                        <line x1="12" y1="9" x2="12" y2="13"/>
                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                      </svg>
                      <span>Please review your settings.</span>
              </div>
                    <div class="alert alert-error">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="15" y1="9" x2="9" y2="15"/>
                        <line x1="9" y1="9" x2="15" y2="15"/>
                      </svg>
                      <span>An error occurred. Please try again.</span>
            </div>
                    <div class="badges-row">
                      <span class="badge badge-success">Live</span>
                      <span class="badge badge-warning">Pending</span>
                      <span class="badge badge-error">Offline</span>
              </div>
            </div>
                </section>
                
                <!-- Navigation -->
                <section class="showcase-section">
                  <h3 class="showcase-section__title">Navigation</h3>
                  <div class="showcase-section__content">
                    <div class="nav-top">
                      <div class="nav-item active">Dashboard</div>
                      <div class="nav-item">Projects</div>
                      <div class="nav-item">Team</div>
                      <div class="nav-item">Settings</div>
              </div>
            </div>
                </section>
            </div>
          </div>

            <!-- ========================================
                 TYPOGRAPHIE
                 ======================================== -->
            <div class="view-content" id="viewTypography" data-view="typography" style="display: none;">
              <div class="view-header">
                <h2 class="view-header__title">Typographie</h2>
                <p class="view-header__desc">Échelle de polices et styles de texte</p>
              </div>
              
              <div class="typography-showcase">
                <div class="type-sample">
                  <span class="type-sample__label">H1 / 36px</span>
                  <h1>The quick brown fox jumps</h1>
            </div>
                <div class="type-sample">
                  <span class="type-sample__label">H2 / 28px</span>
                  <h2>The quick brown fox jumps over the lazy dog</h2>
              </div>
                <div class="type-sample">
                  <span class="type-sample__label">H3 / 22px</span>
                  <h3>The quick brown fox jumps over the lazy dog</h3>
                </div>
                <div class="type-sample">
                  <span class="type-sample__label">Body / 15px</span>
                  <p>The quick brown fox jumps over the lazy dog. This is a sample paragraph showing the body text style with the current color palette applied.</p>
                </div>
                <div class="type-sample">
                  <span class="type-sample__label">Code</span>
                  <code>const theme = applyPalette('hearst-qatar');</code>
              </div>
            </div>
          </div>

            <!-- ========================================
                 ESPACEMENTS
                 ======================================== -->
            <div class="view-content" id="viewSpacing" data-view="spacing" style="display: none;">
              <div class="view-header">
                <h2 class="view-header__title">Espacements</h2>
                <p class="view-header__desc">Échelle d'espacements cohérente (base 4px)</p>
              </div>
              
              <div class="spacing-showcase">
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 4px;"></div>
                  <span class="spacing-item__label">4px</span>
                  <span class="spacing-item__token">--space-1</span>
            </div>
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 8px;"></div>
                  <span class="spacing-item__label">8px</span>
                  <span class="spacing-item__token">--space-2</span>
              </div>
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 12px;"></div>
                  <span class="spacing-item__label">12px</span>
                  <span class="spacing-item__token">--space-3</span>
              </div>
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 16px;"></div>
                  <span class="spacing-item__label">16px</span>
                  <span class="spacing-item__token">--space-4</span>
            </div>
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 24px;"></div>
                  <span class="spacing-item__label">24px</span>
                  <span class="spacing-item__token">--space-6</span>
          </div>
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 32px;"></div>
                  <span class="spacing-item__label">32px</span>
                  <span class="spacing-item__token">--space-8</span>
        </div>
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 48px;"></div>
                  <span class="spacing-item__label">48px</span>
                  <span class="spacing-item__token">--space-12</span>
        </div>
                <div class="spacing-item">
                  <div class="spacing-item__bar" style="width: 64px;"></div>
                  <span class="spacing-item__label">64px</span>
                  <span class="spacing-item__token">--space-16</span>
              </div>
            </div>
          </div>

            
          </div>
        </div>
      </main>

      <!-- ======================================
           PANNEAU PROPRIÉTÉS - Simplifié
           ====================================== -->
      <aside class="props-panel" id="propsPanel">
        <div class="props-panel__header">
          <h3 class="props-panel__title">Palette Active</h3>
          <button class="props-panel__close" id="closePanelBtn" title="Fermer">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"/>
              <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
          </button>
        </div>
        
        <div class="props-panel__content">
          <!-- Thème Actuel -->
          <section class="props-section">
            <div class="current-theme">
              <div class="current-theme__name" id="currentPaletteName">Hearst Qatar</div>
              <div class="current-theme__preview" id="currentPalettePreview">
                <div class="palette-preview-colors">
                  <span style="background: #0a0a0a" title="Fond principal"></span>
                  <span style="background: #8afd81" title="Accent Hearst"></span>
                  <span style="background: #111111" title="Fond secondaire"></span>
                  <span style="background: #ffffff" title="Texte"></span>
                </div>
              </div>
            </div>
          </section>
          
          <!-- Couleurs Principales -->
          <section class="props-section">
            <h4 class="props-section__title">Couleurs</h4>
            <div class="color-tokens" id="colorTokens">
              <!-- Dynamically injected -->
            </div>
          </section>
          
          <!-- Palettes Rapides -->
          <section class="props-section">
            <h4 class="props-section__title">Changer de Palette</h4>
            <div class="quick-palettes" id="quickPalettes">
              <!-- Dynamically injected -->
            </div>
          </section>
        </div>
    </aside>
      
      </div>
  </div>

  <!-- ========================================
       TOAST CONTAINER
       ======================================== -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- JavaScript -->
  <script type="module" src="js/app.js"></script>
</body>
</html>
